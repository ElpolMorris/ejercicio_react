{"version":3,"sources":["components/form-register/FormRegister.module.css","components/form-departure/FormDeparture.module.css","containers/dashboard/Dashboard.module.css","components/navlink/NavLink.module.css","components/form-login/FormLogin.module.css","containers/admin-dash/AdminDash.module.css","components/button/Button.module.css","containers/register/Register.module.css","containers/login/Login.module.css","containers/main/Main.module.css","components/map/Map.module.css","hooks/use-input/useInput.ts","components/button/Button.tsx","store/login/constants.ts","store/login/actions.ts","store/login/thunks.ts","components/form-login/FormLogin.tsx","containers/login/Login.tsx","store/useSelectors.ts","containers/main/Main.tsx","components/form-register/FormRegister.tsx","containers/register/Register.tsx","containers/not-found/NotFound.tsx","context/pointContext.ts","components/map/Map.tsx","store/login/loginReducer.ts","store/admin-users/constants.ts","store/admin-users/usersReducer.ts","store/departure-notice/constants.ts","store/departure-notice/departureReducer.ts","store/rootReducer.ts","store/store.ts","store/departure-notice/actions.ts","components/form-departure/FormDeparture.tsx","store/departure-notice/departureThunks.ts","containers/dashboard/Dashboard.tsx","images/lista.svg","hooks/use-window-dimensions/useWindowDimensions.ts","components/navlink/NavLink.tsx","components/private-route/PrivateRoute.tsx","hooks/use-storage/useStorage.ts","store/admin-users/actions.ts","containers/admin-dash/AdminDash.tsx","store/admin-users/thunks.ts","App.tsx","index.tsx"],"names":["module","exports","useInput","initialState","useState","val","setVa","event","value","target","Button","props","onClick","action","type","typeButton","className","styles","btn","color","children","LOGIN_INIT","LOGIN_SUCCESS","LOGIN_FAILURE","EXIT_LOGIN","loginInit","loginThunk","username","password","dispatch","a","fetch","method","headers","body","JSON","stringify","res","json","token","console","log","localStorage","accessToken","payload","error","FormLogin","useDispatch","history","useHistory","setUsername","setPassword","onSubmit","e","preventDefault","push","onChange","center","Login","flex","title","useSelectors","useReduxSelector","Main","login","state","success","useLayoutEffect","replace","landscape","subtitle","to","FormRegister","fullname","setFullname","phone","setPhone","emergengyContact","setEmergengyContact","born","setBorn","email","setEmail","gender","setGender","handleSubmit","every","data","role","dataRes","alert","name","Register","NotFound","PointContext","createContext","coords","settingCoords","product","GetCoords","position","setPosition","useContext","useMapEvents","click","latlng","dblclick","lat","long","Marker","Map","MapContainer","zoom","scrollWheelZoom","TileLayer","attribution","url","isLoading","failure","loginReducer","actions","GET_USERS_INIT","GET_USERS_SUCCESS","GET_USERS_FAILURE","USER_DELETE_INIT","USER_DELETE_SUCCESS","USER_DELETE_FAILURE","usersReducer","GET_DEPARTURE_INIT","GET_DEPARTURE_SUCCESS","GET_DEPARTURE_FAILURE","DELETE_DEPARTURE_INIT","DELETE_DEPARTURE_SUCCESS","DELETE_DEPARTURE_FAILURE","CREATE_DEPARTURE_INIT","CREATE_DEPARTURE_SUCCESS","CREATE_DEPARTURE_FAILURE","USER_GET_INIT","USER_GET_SUCCESS","USER_GET_FAILURE","user","departureReducer","rootReducers","combineReducers","admin","departure","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","createDepartureSuccess","newDeparture","getState","deleteDepartureSuccess","id","filter","dep","FormDeparture","dateDeparture","setDateDeparture","dateReturn","setDateReturn","observations","setObservations","amountPersons","setAmountPersons","lng","setCoords","Provider","allData","verificationDate","Date","getItem","dataByAdd","authorization","createDeparture","margin","Dashboard","departures","useEffect","getDeparture","deleteDepartureNotice","deleteDepartureThunks","container","map","i","slice","getWindowWidth","width","window","innerWidth","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","NavLink","pathname","useLocation","displayMenu","setDisplayMenu","nav","icon","src","MenuIcon","height","alt","none","clear","pointer","PrivateRoute","Component","component","rest","render","routeProps","getLocalStorageContent","tokenName","useStorage","localStorageItem","setLocalStorageItem","handleGetLocalStorage","usersDeleteSuccess","users","AdminDash","adminAllData","deleteUser","deleteUsers","parseInt","App","path","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7d73b83.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-style\":\"FormRegister_form-style__3Q39g\",\"form-group\":\"FormRegister_form-group__3-G7p\",\"input-radio\":\"FormRegister_input-radio__3nwZF\",\"inline\":\"FormRegister_inline__VQYUQ\",\"center\":\"FormRegister_center__1G0PL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-style\":\"FormDeparture_form-style__Fng3Y\",\"form-group\":\"FormDeparture_form-group__26rm2\",\"center\":\"FormDeparture_center__3SCUU\",\"margin\":\"FormDeparture_margin__3Erz5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Dashboard_flex__1UW44\",\"space-nav\":\"Dashboard_space-nav__3Dpnp\",\"center\":\"Dashboard_center__1mOrQ\",\"list-departure\":\"Dashboard_list-departure__SNBMe\",\"container\":\"Dashboard_container__kFtjY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavLink_nav__2V1l7\",\"icon\":\"NavLink_icon__1ShG1\",\"none\":\"NavLink_none__1dpBL\",\"pointer\":\"NavLink_pointer__3fWtc\",\"mr-2\":\"NavLink_mr-2__3HUDd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-style\":\"FormLogin_form-style__zD5Ww\",\"form-group\":\"FormLogin_form-group__2cH9E\",\"inline\":\"FormLogin_inline__2DeUb\",\"center\":\"FormLogin_center__3r-jz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"space-nav\":\"AdminDash_space-nav__glZeW\",\"center\":\"AdminDash_center__bVz8N\",\"list-center\":\"AdminDash_list-center__3GPNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__2ks56\",\"btn-primary\":\"Button_btn-primary__2w2uN\",\"btn-secondary\":\"Button_btn-secondary__2DBtI\",\"btn-dark\":\"Button_btn-dark__1qips\",\"btn-yellow\":\"Button_btn-yellow__3Abqj\",\"btn-brown\":\"Button_btn-brown__2mt7V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Register_flex__20RhY\",\"margin-nav\":\"Register_margin-nav__3wj4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flex\":\"Login_flex__2jS9K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"landscape\":\"Main_landscape__FYmw8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leaflet-canvas\":\"Map_leaflet-canvas__2ciIF\"};","import { useState } from 'react'\r\n\r\nconst useInput = (initialState: string) => {\r\n    const [val, setVa] = useState(initialState);\r\n\r\n    const handlertChange: any = (event: any) => {\r\n        const { value } = event.target\r\n        setVa(value)\r\n    }\r\n    return [val, handlertChange]\r\n}\r\n\r\nexport default useInput","import React from 'react'\r\nimport styles from \"./Button.module.css\"\r\ninterface Props {\r\n    children?:  React.ReactChild    | React.ReactChild[];\r\n    color: string;\r\n    typeButton?: 'submit' | 'button';\r\n    action?: any;\r\n}\r\n\r\nconst Button = (props: Props) => {\r\n    return (\r\n        <button onClick={props.action} type={props.typeButton || \"button\"} className={`${styles.btn} ${styles[`btn-${props.color}`]}`}>\r\n            {props.children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","export const LOGIN_INIT = \"LOGIN_INIT\"\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\"\r\nexport const EXIT_LOGIN = \"EXIT_LOGIN\"","import {LOGIN_INIT,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAILURE,EXIT_LOGIN} from \"./constants\"\r\n\r\n\r\n//modificar tipos en acciones\r\nexport const loginInit = () => {\r\n    return ({\r\n        type: LOGIN_INIT\r\n    })\r\n}\r\n\r\nexport const loginSuccess = (data: any) => {\r\n    return ({\r\n        type: LOGIN_SUCCESS,\r\n        payload: data\r\n    })\r\n}\r\n\r\nexport const loginFailure = (error: any) => {\r\n    return ({\r\n        type: LOGIN_FAILURE,\r\n        payload: error\r\n    })\r\n}\r\n\r\nexport const exitLogin = () => {\r\n    return ({\r\n        type: EXIT_LOGIN\r\n    })\r\n}","import { loginFailure, loginInit, loginSuccess } from \"./actions\";\r\n\r\n\r\ninterface Login {\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\nexport const loginThunk = ({ username, password }: Login) => {\r\n\treturn async(dispatch: Function) => {\r\n\t\tdispatch(loginInit);\r\n\t\ttry {\r\n            const res = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/login`,{\r\n                method: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ username: username, password: password })\r\n            })\r\n            const {token} = await res.json()\r\n            console.log(\"pase\")\r\n            if(token){\r\n                localStorage.accessToken = token;\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tloginSuccess({\r\n\t\t\t\t\t\t\ttoken\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n            }\r\n\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(loginFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\n","import React from 'react'\r\nimport useInput from '../../hooks/use-input/useInput'\r\nimport Button from '../button/Button'\r\nimport styles from \"./FormLogin.module.css\"\r\nimport { loginThunk } from \"../../store/login/thunks\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nconst FormLogin = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const [username, setUsername] = useInput(\"\")\r\n    const [password, setPassword] = useInput(\"\")\r\n\r\n    const handleSubmit: any = (e: any) => {\r\n        e.preventDefault()\r\n        if(username === \"admin\" || username === \"pmorales.contacto@gmail.com\"){\r\n\r\n            dispatch(loginThunk({ username, password }))\r\n            history.push(\"/admin\")\r\n        }else {\r\n            dispatch(loginThunk({ username, password }))\r\n            history.push(\"/dashboard\")\r\n        }\r\n\r\n\r\n\r\n    }\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styles[\"form-style\"]}>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Username</label>\r\n                <input type=\"text\" value={username} onChange={setUsername} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Password</label>\r\n                <input type=\"password\" value={password} onChange={setPassword} />\r\n            </div>\r\n            <div className={styles.center}>\r\n                <Button typeButton='submit' color=\"primary\">\r\n                    Enviar\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FormLogin\r\n","import React from 'react'\r\nimport FormLogin from '../../components/form-login/FormLogin'\r\nimport styles from \"./Login.module.css\"\r\n\r\ninterface Props {\r\n    title: string\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n    return (\r\n        <div className={styles.flex}>\r\n            <h1>{props.title}</h1>\r\n            <FormLogin />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import {\r\n    useSelector as useReduxSelector,\r\n    TypedUseSelectorHook,\r\n  } from 'react-redux'\r\n  import { RootState } from './store'\r\n  \r\n  export const useSelectors: TypedUseSelectorHook<RootState> = useReduxSelector","import {useLayoutEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useHistory } from 'react-router'\r\nimport { useSelectors } from '../../store/useSelectors'\r\nimport Button from '../../components/button/Button'\r\nimport styles from \"./Main.module.css\"\r\ninterface Props {\r\n    title: string;\r\n    subtitle?: string;\r\n}\r\n\r\nconst Main = (props: Props) => {\r\n    const login = useSelectors(state => state.login.success)\r\n    const history = useHistory()\r\n\r\n    useLayoutEffect(() => {\r\n        if(login) history.replace(\"/dashboard\")\r\n    }, [login,history])\r\n\r\n    return (\r\n        <div className={styles.landscape}>\r\n            <div>\r\n                <h1>{props.title}</h1>\r\n                <h2>{props.subtitle}</h2>\r\n                <Button color=\"dark\">\r\n                    <Link to=\"/login\">Ingresar</Link>\r\n                </Button>\r\n                <p>No tienes una cuenta? <Link to=\"/register\">Regístrate Aquí ⛰️</Link></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport useInput from '../../hooks/use-input/useInput'\r\nimport Button from '../button/Button'\r\nimport styles from \"./FormRegister.module.css\"\r\n\r\nconst FormRegister = () => {\r\n    const history = useHistory()\r\n    const [fullname, setFullname] = useInput(\"\")\r\n    const [password, setPassword] = useInput(\"\")\r\n    const [username, setUsername] = useInput(\"\")\r\n    const [phone, setPhone] = useInput(\"\")\r\n    const [emergengyContact, setEmergengyContact] = useInput(\"\")\r\n    const [born, setBorn] = useInput(\"\")\r\n    const [email, setEmail] = useInput(\"\")\r\n    const [gender, setGender] = useState(\"1\")\r\n\r\n    const handleSubmit = async (e: any) => {\r\n        e.preventDefault()\r\n        const allData = [username,\r\n            email,\r\n            password,\r\n            fullname,\r\n            born,\r\n            gender,\r\n            phone,\r\n            emergengyContact].every(e => e)\r\n        if (allData) {\r\n            const data: object = {\r\n                username,\r\n                email,\r\n                password,\r\n                fullname,\r\n                born,\r\n                gender: +gender,\r\n                role: 2,\r\n                phone,\r\n                emergengyContact,\r\n            }\r\n            try {\r\n                const res: any = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/register`, {\r\n                    method: \"post\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n                    body: JSON.stringify(data)\r\n                })\r\n                const dataRes = await res.json()\r\n                console.log(dataRes)\r\n                alert(\"usuario creado exitosamente\")\r\n                history.push(\"/login\")\r\n\r\n            } catch (error) {\r\n                console.log(\"error\", error)\r\n            }\r\n        }else{\r\n\r\n            alert(\"llene todos los campos\")\r\n        }\r\n    }\r\n    return (\r\n        <form onSubmit={(e) => handleSubmit(e)} className={styles[\"form-style\"]}>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Nombre de usuario</label>\r\n                <input value={username} onChange={setUsername} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Nombre completo</label>\r\n                <input value={fullname} onChange={setFullname} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Fecha de nacimiento</label>\r\n                <input type=\"date\" value={born} onChange={setBorn} />\r\n            </div>\r\n            <div className={styles[\"input-group\"]}>\r\n                <div>\r\n                    <label>Género</label>\r\n                </div>\r\n                <div className={styles[\"input-radio\"]}>\r\n                    <div>\r\n                        <label>Masculino</label>\r\n                        <input type=\"radio\" value={\"1\"} name=\"gender-name\" onChange={() => setGender(\"1\")} />\r\n                    </div>\r\n                    <div>\r\n                        <label>Femenino</label>\r\n                        <input type=\"radio\" value={\"2\"} name=\"gender-name\" onChange={() => setGender(\"2\")} />\r\n                    </div>\r\n                    <div>\r\n                        <label>Otr@</label>\r\n                        <input type=\"radio\" value={\"3\"} name=\"gender-name\" onChange={() => setGender(\"3\")} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Numero de contacto</label>\r\n                <input value={phone} onChange={setPhone} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Numero de emergencia</label>\r\n                <input value={emergengyContact} onChange={setEmergengyContact} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Correo Electrónico</label>\r\n                <input type=\"email\" value={email} onChange={setEmail} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Password</label>\r\n                <input type=\"password\" value={password} onChange={setPassword} />\r\n            </div>\r\n\r\n            <div className={styles.center}>\r\n                <Button typeButton='submit' color=\"primary\">\r\n                    Enviar\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FormRegister\r\n","import React from 'react'\r\nimport FormRegister from '../../components/form-register/FormRegister'\r\nimport styles from \"./Register.module.css\"\r\n\r\ninterface Props {\r\n    title: string\r\n}\r\n\r\n\r\n\r\nconst Register = (props: Props) => {\r\n    return (\r\n        <div className={styles.flex}>\r\n            <h1 className={styles[\"margin-nav\"]}>{props.title}</h1>\r\n            <FormRegister />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\r\n\r\ninterface Props {\r\n    title: string\r\n}\r\n\r\nconst NotFound = (props: Props) => {\r\n    return (\r\n        <div>\r\n            <h1>{props.title}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import { createContext } from 'react'\r\n\r\nconst PointContext = createContext({\r\n    coords: [],\r\n    settingCoords: (product: any) => {}\r\n})\r\n\r\nexport default PointContext","import {  useContext, useState } from 'react'\r\nimport { MapContainer, Marker, TileLayer, useMapEvents } from 'react-leaflet'\r\nimport styles from \"./Map.module.css\"\r\nimport { LatLngTuple } from 'leaflet';\r\nimport PointContext from '../../context/pointContext';\r\n\r\n\r\nconst GetCoords = ()=>{\r\n    const [position, setPosition] = useState(null)\r\n    const {settingCoords} = useContext(PointContext)\r\n\r\n    useMapEvents({\r\n        click:(e: any)=>{\r\n            setPosition(e.latlng)\r\n            settingCoords(e.latlng)\r\n            \r\n        },\r\n        dblclick: (e:any)=>{\r\n            setPosition(null)\r\n            settingCoords({lat:0,long:0})\r\n        }\r\n    })\r\n    return position ?(\r\n        <Marker  position={position}>\r\n            \r\n        </Marker>\r\n    ) : null\r\n}\r\n\r\n\r\n\r\nconst Map = () => {\r\n    const CENTER: LatLngTuple = [-33.6, -71];\r\n \r\n    const INITIALZOOM = 9\r\n\r\n\r\n    return (\r\n        <MapContainer className={styles[\"leaflet-canvas\"]} center={CENTER} zoom={INITIALZOOM} scrollWheelZoom={true}>\r\n            < TileLayer \r\n                    attribution= 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\r\n                    url='https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'\r\n                />   \r\n                <GetCoords />                \r\n        </MapContainer>\r\n    )\r\n}\r\n\r\nexport default Map\r\n","import {LOGIN_INIT,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAILURE,EXIT_LOGIN} from \"./constants\"\r\n\r\ninterface InitialState {\r\n    isLoading: boolean;\r\n    success: boolean;\r\n    failure: boolean;\r\n    data: any\r\n}\r\n\r\nconst initialState: InitialState = {\r\n        isLoading: false,\r\n        success: false,\r\n        failure: false,\r\n        data: {},\r\n};\r\n\r\ninterface Actions {\r\n    type: string;\r\n    payload: any;\r\n}\r\n\r\n\r\n\r\nconst loginReducer = (state: InitialState = initialState, actions: Actions) => {\r\n    switch (actions.type) {\r\n        case LOGIN_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case LOGIN_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n        case LOGIN_FAILURE:\r\n            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                data: actions.payload\r\n            };\r\n        case EXIT_LOGIN:\r\n            return {\r\n                ...state,\r\n                data: {},\r\n                success: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default loginReducer","export const GET_USERS_INIT = \"GET_USERS_INIT\"\r\nexport const GET_USERS_SUCCESS = \"GET_USERS_SUCCESS\"\r\nexport const GET_USERS_FAILURE = \"GET_USERS_FAILURE\"\r\nexport const USER_DELETE_INIT = \"USER_DELETE_INIT\"\r\nexport const USER_DELETE_SUCCESS = \"USER_DELETE_SUCCESS\"\r\nexport const USER_DELETE_FAILURE = \"USER_DELETE_FAILURE\"\r\nexport const USER_CREATE_INIT = \"USER_CREATE_INIT\"\r\nexport const USER_CREATE_SUCCESS = \"USER_CREATE_SUCCESS\"\r\nexport const USER_CREATE_FAILURE = \"USER_CREATE_FAILURE\"","import {\r\n\tGET_USERS_INIT,\r\n    GET_USERS_SUCCESS,\r\n    GET_USERS_FAILURE,\r\n    USER_DELETE_INIT,\r\nUSER_DELETE_SUCCESS,\r\nUSER_DELETE_FAILURE\r\n} from \"./constants\";\r\n\r\ninterface InitialState {\r\n\tisLoading: boolean;\r\n\tsuccess: boolean;\r\n\tfailure: boolean;\r\n\tdata: object[];\r\n}\r\n\r\nconst initialState: InitialState = {\r\n\tisLoading: false,\r\n\tsuccess: false,\r\n\tfailure: false,\r\n\tdata: [],\r\n};\r\n\r\ninterface Actions {\r\n\ttype: string;\r\n\tpayload: any;\r\n}\r\n\r\nconst usersReducer = (state: InitialState = initialState, actions: Actions) => {\r\n\r\n    switch (actions.type) {\r\n        case GET_USERS_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case GET_USERS_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n        case GET_USERS_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                data: actions.payload\r\n            };        \r\n        case USER_DELETE_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case USER_DELETE_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n        case USER_DELETE_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                data: actions.payload\r\n            };        \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default usersReducer\r\n","//DEPARTURES CONSTANTS\r\nexport const GET_DEPARTURE_INIT = \"GET_DEPARTURE_INIT\"\r\nexport const GET_DEPARTURE_SUCCESS = \"GET_DEPARTURE_SUCCCESS\"\r\nexport const GET_DEPARTURE_FAILURE = \"GET_DEPARTURE_FAILURE\"\r\nexport const DELETE_DEPARTURE_INIT = \"DELETE_DEPARTURE_INIT\"\r\nexport const DELETE_DEPARTURE_SUCCESS = \"DELETE_DEPARTURE_SUCCCESS\"\r\nexport const DELETE_DEPARTURE_FAILURE = \"DELETE_DEPARTURE_FAILURE\"\r\nexport const CREATE_DEPARTURE_INIT = \"CREATE_DEPARTURE_INIT\"\r\nexport const CREATE_DEPARTURE_SUCCESS = \"CREATE_DEPARTURE_SUCCESS\"\r\nexport const CREATE_DEPARTURE_FAILURE = \"CREATE_DEPARTURE_FAILURE\"\r\nexport const USER_UPDATE_INIT = \"USER_UPDATE_INIT\"\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\"\r\nexport const USER_UPDATE_FAILURE = \"USER_UPDATE_FAILURE\"\r\nexport const USER_GET_INIT = \"USER_GET_INIT\"\r\nexport const USER_GET_SUCCESS = \"USER_GET_SUCCESS\"\r\nexport const USER_GET_FAILURE = \"USER_GET_FAILURE\"","import {\r\n\tDELETE_DEPARTURE_INIT,\r\nDELETE_DEPARTURE_SUCCESS,\r\nDELETE_DEPARTURE_FAILURE,\r\nCREATE_DEPARTURE_INIT,\r\nCREATE_DEPARTURE_SUCCESS,\r\nCREATE_DEPARTURE_FAILURE,\r\nUSER_GET_INIT,\r\nUSER_GET_SUCCESS,\r\nUSER_GET_FAILURE,\r\nGET_DEPARTURE_INIT,\r\nGET_DEPARTURE_SUCCESS,\r\nGET_DEPARTURE_FAILURE\r\n} from \"./constants\";\r\n\r\ninterface InitialState {\r\n\tisLoading: boolean;\r\n\tsuccess: boolean;\r\n\tfailure: boolean;\r\n\tdata: object[];\r\n    user:object;\r\n    error: any;\r\n}\r\n\r\nconst initialState: InitialState = {\r\n\tisLoading: false,\r\n\tsuccess: false,\r\n\tfailure: false,\r\n\tdata: [],\r\n    user: {},\r\n    error: {}\r\n};\r\n\r\ninterface Actions {\r\n\ttype: string;\r\n\tpayload: any;\r\n}\r\n\r\nconst departureReducer = (state: InitialState = initialState, actions: Actions) => {\r\n    switch (actions.type) {\r\n        case CREATE_DEPARTURE_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case CREATE_DEPARTURE_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n            \r\n        case CREATE_DEPARTURE_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                data: [],\r\n                error: actions.payload\r\n            };        \r\n             \r\n        case USER_GET_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case USER_GET_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                user: actions.payload\r\n            };\r\n        case USER_GET_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                user: {},\r\n                error: actions.payload\r\n            };        \r\n        case GET_DEPARTURE_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case GET_DEPARTURE_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n        case GET_DEPARTURE_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                error: actions.payload\r\n            };        \r\n        case DELETE_DEPARTURE_INIT:            \r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case DELETE_DEPARTURE_SUCCESS:\r\n            \r\n            return {\r\n                ...state,\r\n                success: true,\r\n                isLoading: false,\r\n                data: actions.payload\r\n            };\r\n        case DELETE_DEPARTURE_FAILURE:            \r\n            return {\r\n                ...state,\r\n                success: false,\r\n                isLoading: false,\r\n                failure: true,\r\n                data: actions.payload\r\n            };    \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default departureReducer\r\n","import { combineReducers } from \"redux\";\r\nimport loginReducer from \"./login/loginReducer\"\r\nimport usersReducer from \"./admin-users/usersReducer\";\r\nimport departureReducer from \"./departure-notice/departureReducer\";\r\n\r\n\r\nconst rootReducers = combineReducers({\r\n    login: loginReducer,\r\n    admin: usersReducer,\r\n    departure: departureReducer,\r\n})\r\n\r\nexport default rootReducers","import { createStore,applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n//hasta acá\r\nexport type RootState = ReturnType<typeof rootReducer>\r\nexport default store","import store from \"../store\"\r\nimport {\r\n    GET_DEPARTURE_INIT,\r\n    GET_DEPARTURE_SUCCESS,\r\n    GET_DEPARTURE_FAILURE,\r\n    DELETE_DEPARTURE_INIT,\r\n    DELETE_DEPARTURE_SUCCESS,\r\n    DELETE_DEPARTURE_FAILURE,\r\n    CREATE_DEPARTURE_INIT,\r\n    CREATE_DEPARTURE_SUCCESS,\r\n    CREATE_DEPARTURE_FAILURE,\r\n    USER_GET_INIT,\r\n    USER_GET_SUCCESS,\r\n    USER_GET_FAILURE,} from \"./constants\"\r\n\r\n    export const createDepartureInit = () => ({\r\n        type: CREATE_DEPARTURE_INIT,\r\n    })\r\n    export const createDepartureSuccess = (newDeparture: any)=>{\r\n        const { departure } = store.getState();\r\n        const {data}: any = departure\r\n        return {\r\n            type: CREATE_DEPARTURE_SUCCESS,\r\n            payload: {\r\n                ...data,\r\n                departure: newDeparture\r\n            }\r\n        }\r\n\r\n    }\r\n    export const createDepartureFailure = (error: any) => ({\r\n        type: CREATE_DEPARTURE_FAILURE,\r\n        payload: error\r\n    })\r\n    export const getDepartureInit = () => ({\r\n        type: GET_DEPARTURE_INIT,\r\n    })\r\n    export const getDepartureSuccess = (departure: object)=>({\r\n        type: GET_DEPARTURE_SUCCESS,\r\n        payload: departure\r\n    })\r\n    export const getDepartureFailure = (error: any) => ({\r\n        type: GET_DEPARTURE_FAILURE,\r\n        payload: error\r\n    })\r\n    export const userGetInit = () => ({\r\n        type: USER_GET_INIT,\r\n    })\r\n    export const userGetSuccess = (user: object)=>({\r\n        type: USER_GET_SUCCESS,\r\n        payload: user\r\n    })\r\n    export const userGetFailure = (error: any) => ({\r\n        type: USER_GET_FAILURE,\r\n        payload: error\r\n    })\r\n    export const deleteDepartureInit = () => ({\r\n        type: DELETE_DEPARTURE_INIT,\r\n    })\r\n    export const deleteDepartureSuccess = (id: number)=>{\r\n        const { departure } = store.getState();\r\n        const {data} = departure\r\n    return ({\r\n        type: DELETE_DEPARTURE_SUCCESS,\r\n        payload: {\r\n            ...data,\r\n            departure: data.departure.filter((dep: any) => dep.id !== id)\r\n        }\r\n        \r\n        \r\n    })\r\n    }\r\n    export const deleteDepartureFailure = (error: any) => ({\r\n        type: DELETE_DEPARTURE_FAILURE,\r\n        payload: error\r\n    })\r\n\r\n","import React, { useState } from 'react'\r\nimport PointContext from '../../context/pointContext'\r\n\r\nimport useInput from '../../hooks/use-input/useInput'\r\nimport Button from '../button/Button'\r\nimport Map from '../map/Map'\r\nimport styles from \"./FormDeparture.module.css\"\r\nimport { useDispatch } from 'react-redux'\r\nimport { createDeparture } from '../../store/departure-notice/departureThunks'\r\nimport { useSelectors } from '../../store/useSelectors'\r\n\r\n\r\nconst FormDeparture = () => {\r\n    const username = useSelectors(state => state.departure.user.username)\r\n    const [dateDeparture, setDateDeparture] = useInput(\"\")\r\n    const [dateReturn, setDateReturn] = useInput(\"\")\r\n    const [observations, setObservations] = useInput(\"\")\r\n    const [amountPersons, setAmountPersons] = useInput(\"\")\r\n    const [coords, setCoords] = useState<any>({lat:0,lng:0})\r\n    const dispatch = useDispatch()\r\n    const settingCoords = ({lat,lng}: any) => {\r\n        setCoords({lat,lng})\r\n    }\r\n    const handleSubmit: any = (e: any) => {\r\n        e.preventDefault()\r\n        const allData = [dateDeparture,\r\n            dateReturn,\r\n            observations,\r\n            amountPersons,\r\n            coords.lat,\r\n            coords.lng\r\n            ].every(e => e)\r\n        const verificationDate = new Date(dateDeparture) <= new Date(dateReturn)\r\n        if(allData && verificationDate){\r\n            const accessToken: any = localStorage.getItem(\"accessToken\")\r\n            dispatch(createDeparture(accessToken,username,{dateDeparture,\r\n                dateReturn,\r\n                observations,\r\n                amountPersons,\r\n                lat:coords.lat,\r\n                long:coords.lng}))\r\n            \r\n        }else if(!verificationDate){\r\n            alert(\"Ingrese bien las fechas\")\r\n            \r\n        }else {\r\n            alert(\"llene todos los campos de manera correcta\")\r\n        }\r\n    }\r\n\r\n    return (\r\n       \r\n        <PointContext.Provider value={\r\n            {coords,settingCoords}\r\n        }>\r\n\r\n        <form onSubmit={handleSubmit} className={styles[\"form-style\"]}>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Fecha ida</label>\r\n                <input type=\"date\" value={dateDeparture} onChange={setDateDeparture} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Fecha Regreso</label>\r\n                <input type=\"date\" value={dateReturn} onChange={setDateReturn} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Detalles de la salida</label>\r\n                <input type=\"text\" value={observations} onChange={setObservations} />\r\n            </div>\r\n            <div className={styles[\"form-group\"]}>\r\n                <label>Cantidad de personas</label>\r\n                <input type=\"number\" value={amountPersons} onChange={setAmountPersons} />\r\n            </div>\r\n            <p className={styles.margin}>Haga click para elegir el punto de salida y doble click para eliminarlo</p>\r\n            <ul>\r\n                <li>\r\n                    Latitud {coords.lat}\r\n                </li>\r\n                <li>\r\n                    Longitud {coords.lng}\r\n                </li>\r\n            </ul>\r\n            <Map />\r\n            <div className={styles.center}>\r\n                <Button typeButton='submit' color=\"primary\">\r\n                    Enviar\r\n                </Button>\r\n            </div>\r\n        </form>\r\n        </PointContext.Provider>\r\n    )\r\n}\r\n\r\nexport default FormDeparture\r\n","import {\r\n\tcreateDepartureInit,\r\ncreateDepartureSuccess,\r\ncreateDepartureFailure,\r\nuserGetInit,\r\nuserGetSuccess,\r\nuserGetFailure,\r\ngetDepartureInit,\r\ngetDepartureSuccess,\r\ngetDepartureFailure,\r\ndeleteDepartureInit,\r\ndeleteDepartureSuccess,\r\ndeleteDepartureFailure\r\n} from \"./actions\";\r\n\r\nexport const getUserSession = (token: string) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(userGetInit());\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tconst res = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/users`, {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst {username} = await res.json();\r\n\t\t\tdispatch(userGetSuccess({username}));\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(userGetFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\nexport const createDeparture = (token: string,username: string,dataByAdd: object) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(createDepartureInit());\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/users/${username}/departure`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify(dataByAdd)\r\n\t\t\t});\r\n\t\t\tconsole.log(\"estoy creando\")\r\n\t\t\tconst data = await res.json();\r\n\t\t\tconsole.log(data)\r\n\t\t\tdispatch(createDepartureSuccess(data));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(\"este es el error\",error)\r\n\t\t\tdispatch(createDepartureFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\nexport const getDeparture = (token: string,username: string) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(getDepartureInit());\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tconst res = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/users/${username}`, {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst data = await res.json();\r\n\t\t\tconsole.log(\"getdepData\",data)\r\n\t\t\tdispatch(getDepartureSuccess(data));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\tdispatch(getDepartureFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const deleteDepartureThunks = (id: number, token: string, username: string) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(deleteDepartureInit());\r\n\t\ttry {\r\n\t\t\tawait fetch(`https://registro-salidas-montana-chile.herokuapp.com/users/${username}/departure?id=${id}`, {\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\t'Access-Control-Allow-Origin': '*',\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tdispatch(deleteDepartureSuccess(id));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\tdispatch(deleteDepartureFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n\r\n\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '../../components/button/Button'\r\nimport FormDeparture from '../../components/form-departure/FormDeparture'\r\n\r\nimport { deleteDepartureThunks, getDeparture, getUserSession } from '../../store/departure-notice/departureThunks'\r\nimport { useSelectors } from '../../store/useSelectors'\r\n\r\nimport styles from \"./Dashboard.module.css\"\r\n\r\n\r\n\r\nconst Dashboard = () => {\r\n    const dispatch = useDispatch()\r\n    const departures = useSelectors(state => state.departure.data.departure)\r\n    const username = useSelectors(state => state.departure.user.username)\r\n    useEffect(() => {\r\n        const accessToken: any = localStorage.getItem(\"accessToken\")\r\n        dispatch(getUserSession(accessToken))\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        const accessToken: any = localStorage.getItem(\"accessToken\")\r\n        dispatch(getDeparture(accessToken, username))\r\n    }, [username, dispatch])\r\n    const deleteDepartureNotice = (id: number) => {\r\n        const accessToken: any = localStorage.getItem(\"accessToken\")\r\n        dispatch(deleteDepartureThunks(+id, accessToken, username))\r\n    }\r\n    return (\r\n        <div className={styles[\"space-nav\"]}>\r\n            <h1 className={styles.center}>Dashboard</h1>\r\n\r\n\r\n            <FormDeparture />\r\n            {/* <Map /> */}\r\n            <h2 className={styles.center}>Mis avisos de salida</h2>\r\n            <ul className={styles.container}>\r\n                {\r\n                    departures ? departures.map((e: any, i: number) => (\r\n                        <li key={i} className={styles[\"list-departure\"]}>\r\n                            <div>\r\n                                <ul>\r\n                                    <li>ida: {e[\"data_return\"].slice(0, 10)}</li>\r\n                                    <li>regreso: {e[\"date_departure\"].slice(0, 10)}</li>\r\n                                    <li>n° participantes: {e[\"mount_participants\"]}</li>\r\n                                    <li>Detalles: {e.observations}</li>\r\n                                    <li>Coordenadas:\r\n                                        <ul>\r\n                                            <li>\r\n                                                Latitud: {e.lat}\r\n                                            </li>\r\n                                            <li>\r\n                                                Longitud: {e.long}\r\n                                            </li>\r\n                                        </ul>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div><Button color=\"dark\" action={() => deleteDepartureNotice(e.id)} >Delete</Button></div>\r\n                        </li>\r\n                    )) : <div>asd</div>\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","export default __webpack_public_path__ + \"static/media/lista.04272748.svg\";","import { useEffect, useState } from \"react\";\r\n\r\n\r\nconst getWindowWidth = () => {\r\n\tconst { innerWidth: width } = window;\r\n\treturn {\r\n\t\twidth,\r\n\t};\r\n}\r\nconst useWindowDimensions = () => {\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowWidth());\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleResize = () => {\r\n\t\t\tsetWindowDimensions(getWindowWidth());\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n\t\treturn () => window.removeEventListener(\"resize\", handleResize);\r\n\t}, []);\r\n\r\n\treturn windowDimensions;\r\n};\r\n\r\nexport default useWindowDimensions","import  { useState } from 'react'\r\nimport styles from \"./NavLink.module.css\"\r\nimport { Link } from 'react-router-dom'\r\nimport MenuIcon from \"../../images/lista.svg\"\r\nimport useWindowDimensions from \"../../hooks/use-window-dimensions/useWindowDimensions\"\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport { useSelectors } from '../../store/useSelectors'\r\nimport { useDispatch } from 'react-redux'\r\nimport { exitLogin } from '../../store/login/actions'\r\n\r\ninterface Props {\r\n    \r\n}\r\n\r\nconst NavLink = (props: Props) => {\r\n    const {pathname} = useLocation()\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const login = useSelectors(state => state.login.success)\r\n    const username = useSelectors(state => state.departure.user.username)\r\n    const {width} = useWindowDimensions()\r\n    const [displayMenu, setDisplayMenu] = useState(false);\r\n\r\n    const handleDisplayMenu = () => {\r\n\t\tsetDisplayMenu(!displayMenu);\r\n        console.log(username)\r\n\t};\r\n    const closeSession = () => {\r\n        localStorage.clear()\r\n        dispatch(exitLogin())\r\n        history.replace(\"/\")\r\n    }\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div>\r\n                {\r\n                    login ? <Link to=\"/dashboard\">Avisos de Salida</Link> : <Link to=\"/\">Avisos de Salida</Link>\r\n                }\r\n                \r\n                <img className={styles.icon} onClick={handleDisplayMenu} src={MenuIcon} width=\"32\" height=\"32\" alt=\"menu\"/>\r\n            </div>\r\n            \r\n            <div className={`${!displayMenu && width < 568 ? styles.none : \"\"}`}>\r\n                {\r\n                    login ? <><p>Bienvenido <span className={styles[\"mr-2\"]}>{pathname === \"/admin\" ? \"admin\" : `${username}` ?? \"\"}</span></p><p onClick={closeSession} className={styles.pointer}>Cerrar Sesión</p></> : <>\r\n                    \r\n                    <Link to=\"/login\">Ingresar</Link>\r\n                    <Link to=\"/register\">Registrese</Link>\r\n                    </>\r\n                }\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavLink\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport {useSelectors} from \"../../store/useSelectors\"\r\n\r\ninterface PrivateRouteProps {\r\n    component: React.ComponentType<any>;\r\n    path: string;\r\n    exact?: any;\r\n}\r\n\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }: PrivateRouteProps) => {\r\n    const login = useSelectors((state) => state.login.success)\r\n    //const contextLogin = useContext(ContextLogin)\r\n    return login ? (\r\n        <Route\r\n            {...rest}\r\n            render={routeProps => (\r\n                <Component {...routeProps} />\r\n            )}\r\n        />\r\n    ) : (<div>Vista restringida, Loguéese para ingresar</div>)\r\n}\r\n\r\nexport default PrivateRoute","import { useEffect, useState } from \"react\";\r\n\r\n\r\nconst getLocalStorageContent = (tokenName: string) => {\r\n\tconst { localStorage } = window;\r\n    const token = localStorage.getItem(tokenName)\r\n\treturn {\r\n\t\ttoken,\r\n\t};\r\n}\r\nconst useStorage = (tokenName: string) => {\r\n\tconst [localStorageItem, setLocalStorageItem] = useState(getLocalStorageContent(tokenName));\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleGetLocalStorage = () => {\r\n            console.log(\"soy el hook de storage\")\r\n\t\t\tsetLocalStorageItem(getLocalStorageContent(\"accessToken\"));\r\n\t\t}\r\n\t\twindow.addEventListener(\"storage\", handleGetLocalStorage);\r\n\t\treturn () => window.removeEventListener(\"storage\", handleGetLocalStorage);\r\n\t}, [localStorageItem]);\r\n\r\n\treturn localStorageItem;\r\n};\r\n\r\nexport default useStorage","import {GET_USERS_INIT,\r\n    GET_USERS_SUCCESS,\r\n    GET_USERS_FAILURE,\r\n    USER_DELETE_INIT,\r\n    USER_DELETE_SUCCESS,\r\n    USER_DELETE_FAILURE} from \"./constants\"\r\n\r\n    import store from \"../store\";\r\nexport const getUsersInit = () => {\r\n    return ({\r\n        type: GET_USERS_INIT\r\n    })\r\n}\r\nexport const getUsersFailure = (error: any) => {\r\n    return ({\r\n        type: GET_USERS_FAILURE,\r\n        payload: error\r\n    })\r\n}\r\n\r\nexport const getUsersSuccess = (userData: object) => {\r\n    return ({\r\n        type: GET_USERS_SUCCESS,\r\n        payload: userData\r\n    })\r\n}\r\n\r\nexport const usersDeleteFailure = (error: any) => {\r\n    return ({\r\n        type: USER_DELETE_FAILURE,\r\n        payload: error\r\n    })\r\n}\r\nexport const usersDeleteInit = () => {\r\n    return ({\r\n        type: USER_DELETE_INIT\r\n    })\r\n}\r\nexport const usersDeleteSuccess = (id: number) => {\r\n\r\n    const { admin: usuarios } = store.getState();\r\n    const users = usuarios.data;\r\n    console.log(\"actions\",users, id)\r\n    return ({\r\n        type: USER_DELETE_SUCCESS,\r\n        payload: users.filter((user: any) => user.id !== id)\r\n    })\r\n}","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport Button from '../../components/button/Button'\r\nimport { deleteUsers, getUsersThunk } from '../../store/admin-users/thunks'\r\nimport {useSelectors} from \"../../store/useSelectors\"\r\nimport styles from \"./AdminDash.module.css\"\r\nconst AdminDash = () => {\r\n    const dispatch = useDispatch()\r\n    const adminAllData = useSelectors((state) => state.admin.data)\r\n    useEffect(() => {\r\n        const accessToken: any = localStorage.getItem(\"accessToken\")\r\n        dispatch(getUsersThunk(accessToken))\r\n        \r\n    },[dispatch])\r\n    const deleteUser = (id: number) => {\r\n        const accessToken: any = localStorage.getItem(\"accessToken\")\r\n        dispatch(deleteUsers(id,accessToken))\r\n        //dispatch(getUsersThunk(accessToken))\r\n    }\r\n    return adminAllData && (\r\n        <div className={styles[\"space-nav\"]}>\r\n            <h1 className={styles.center}>Admin</h1>\r\n            <h2 className={styles.center}>Lista de usuarios</h2>\r\n            <ul className={styles[\"list-center\"]}>\r\n\r\n            {\r\n                adminAllData.map((e: any, i: number) => {\r\n                    if(e.username === \"admin\"){\r\n                        return \"\"\r\n                    }\r\n                    return (\r\n                        <li key={i}>{e.id} - {e.username} <Button action={()=>deleteUser(parseInt(e.id))} color=\"dark\">Borrar</Button> </li>\r\n                    )\r\n                })\r\n            }\r\n            </ul>\r\n        </div>\r\n    ) \r\n}\r\n\r\nexport default AdminDash\r\n","import {\r\n\tgetUsersInit,\r\n\tgetUsersSuccess,\r\n\tgetUsersFailure,\r\n\tusersDeleteFailure,\r\n\tusersDeleteInit,\r\n\tusersDeleteSuccess,\r\n} from \"./actions\";\r\n\r\nexport const getUsersThunk = (token: string) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(getUsersInit());\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`https://registro-salidas-montana-chile.herokuapp.com/admin/dashboard`, {\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tconst data = await res.json();\r\n\t\t\tdispatch(getUsersSuccess(data));\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(getUsersFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const deleteUsers = (id: number, token: string) => {\r\n\treturn async (dispatch: Function) => {\r\n\t\tdispatch(usersDeleteInit());\r\n\t\ttry {\r\n\t\t\tawait fetch(`https://registro-salidas-montana-chile.herokuapp.com/admin/users?id=${id}`, {\r\n\t\t\t\tmethod: \"DELETE\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tauthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(usersDeleteSuccess(id));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t\tdispatch(usersDeleteFailure(error));\r\n\t\t}\r\n\t};\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport {BrowserRouter as Router,\r\n  Switch,\r\n  Route} from \"react-router-dom\"\r\n\r\nimport Login from './containers/login/Login';\r\nimport Main from './containers/main/Main';\r\nimport Register from './containers/register/Register';\r\nimport NotFound from './containers/not-found/NotFound';\r\nimport Dashboard from './containers/dashboard/Dashboard';\r\nimport NavLink from './components/navlink/NavLink';\r\nimport PrivateRoute from './components/private-route/PrivateRoute';\r\nimport useStorage from \"./hooks/use-storage/useStorage\"\r\nimport AdminDash from './containers/admin-dash/AdminDash';\r\n\r\nfunction App() {\r\n\r\n  const token = useStorage(\"accessToken\")\r\n  useEffect(() => {\r\n    if(token){\r\n      console.log(token)\r\n    }\r\n  }, [token])\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <NavLink />\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <Main title=\"Avisos de salida a la Montaña\" subtitle=\"Registra tu salida y estaremos atentos a tu retorno\"/>\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <Login title=\"Login\"/>\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            <Register title=\"Registro\" />\r\n          </Route>\r\n            \r\n          <PrivateRoute path=\"/dashboard\" component={Dashboard}  />\r\n          <PrivateRoute path=\"/admin\" component={AdminDash}  />\r\n          <Route path=\"*\">\r\n            <NotFound title=\"not-found\" />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport  \"./index.module.css\"\r\nimport store from \"./store/store\"\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}