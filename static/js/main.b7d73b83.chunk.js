(this.webpackJsonpmontana=this.webpackJsonpmontana||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports={"form-style":"FormRegister_form-style__3Q39g","form-group":"FormRegister_form-group__3-G7p","input-radio":"FormRegister_input-radio__3nwZF",inline:"FormRegister_inline__VQYUQ",center:"FormRegister_center__1G0PL"}},,,function(e,t,n){e.exports={"form-style":"FormDeparture_form-style__Fng3Y","form-group":"FormDeparture_form-group__26rm2",center:"FormDeparture_center__3SCUU",margin:"FormDeparture_margin__3Erz5"}},,,,,,function(e,t,n){e.exports={flex:"Dashboard_flex__1UW44","space-nav":"Dashboard_space-nav__3Dpnp",center:"Dashboard_center__1mOrQ","list-departure":"Dashboard_list-departure__SNBMe",container:"Dashboard_container__kFtjY"}},function(e,t,n){e.exports={nav:"NavLink_nav__2V1l7",icon:"NavLink_icon__1ShG1",none:"NavLink_none__1dpBL",pointer:"NavLink_pointer__3fWtc","mr-2":"NavLink_mr-2__3HUDd"}},,function(e,t,n){e.exports={"form-style":"FormLogin_form-style__zD5Ww","form-group":"FormLogin_form-group__2cH9E",inline:"FormLogin_inline__2DeUb",center:"FormLogin_center__3r-jz"}},function(e,t,n){e.exports={"space-nav":"AdminDash_space-nav__glZeW",center:"AdminDash_center__bVz8N","list-center":"AdminDash_list-center__3GPNx"}},,,,,function(e,t,n){e.exports={btn:"Button_btn__2ks56","btn-primary":"Button_btn-primary__2w2uN","btn-secondary":"Button_btn-secondary__2DBtI","btn-dark":"Button_btn-dark__1qips","btn-yellow":"Button_btn-yellow__3Abqj","btn-brown":"Button_btn-brown__2mt7V"}},,function(e,t,n){e.exports={flex:"Register_flex__20RhY","margin-nav":"Register_margin-nav__3wj4A"}},,function(e,t,n){e.exports={flex:"Login_flex__2jS9K"}},function(e,t,n){e.exports={landscape:"Main_landscape__FYmw8"}},function(e,t,n){e.exports={"leaflet-canvas":"Map_leaflet-canvas__2ciIF"}},,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),s=n.n(c),o=(n(45),n(15)),i=n(4),l=n(3),u=function(e){var t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return[r,function(e){var t=e.target.value;c(t)}]},d=n(32),j=n.n(d),b=n(0),p=function(e){return Object(b.jsx)("button",{onClick:e.action,type:e.typeButton||"button",className:"".concat(j.a.btn," ").concat(j.a["btn-".concat(e.color)]),children:e.children})},O=n(26),h=n.n(O),m=n(6),f=n.n(m),g=n(13),x="LOGIN_INIT",v="LOGIN_SUCCESS",_="LOGIN_FAILURE",y="EXIT_LOGIN",E=function(){return{type:x}},S=function(e){var t=e.username,n=e.password;return function(){var e=Object(g.a)(f.a.mark((function e(a){var r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(E),e.prev=1,e.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:t,password:n})});case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,s=c.token,console.log("pase"),s&&(localStorage.accessToken=s,a({type:v,payload:{token:s}})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a((o=e.t0,{type:_,payload:o}));case 16:case"end":return e.stop()}var o}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},N=n(7),L=function(){var e=Object(N.b)(),t=Object(i.f)(),n=u(""),a=Object(l.a)(n,2),r=a[0],c=a[1],s=u(""),o=Object(l.a)(s,2),d=o[0],j=o[1];return Object(b.jsxs)("form",{onSubmit:function(n){n.preventDefault(),"admin"===r||"pmorales.contacto@gmail.com"===r?(e(S({username:r,password:d})),t.push("/admin")):(e(S({username:r,password:d})),t.push("/dashboard"))},className:h.a["form-style"],children:[Object(b.jsxs)("div",{className:h.a["form-group"],children:[Object(b.jsx)("label",{children:"Username"}),Object(b.jsx)("input",{type:"text",value:r,onChange:c})]}),Object(b.jsxs)("div",{className:h.a["form-group"],children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",value:d,onChange:j})]}),Object(b.jsx)("div",{className:h.a.center,children:Object(b.jsx)(p,{typeButton:"submit",color:"primary",children:"Enviar"})})]})},C=n(36),w=n.n(C),k=function(e){return Object(b.jsxs)("div",{className:w.a.flex,children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsx)(L,{})]})},T=N.c,R=n(37),D=n.n(R),I=function(e){var t=T((function(e){return e.login.success})),n=Object(i.f)();return Object(a.useLayoutEffect)((function(){t&&n.replace("/dashboard")}),[t,n]),Object(b.jsx)("div",{className:D.a.landscape,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsx)("h2",{children:e.subtitle}),Object(b.jsx)(p,{color:"dark",children:Object(b.jsx)(o.b,{to:"/login",children:"Ingresar"})}),Object(b.jsxs)("p",{children:["No tienes una cuenta? ",Object(b.jsx)(o.b,{to:"/register",children:"Reg\xedstrate Aqu\xed \u26f0\ufe0f"})]})]})})},U=n(14),A=n.n(U),F=function(){var e=Object(i.f)(),t=u(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=u(""),o=Object(l.a)(s,2),d=o[0],j=o[1],O=u(""),h=Object(l.a)(O,2),m=h[0],x=h[1],v=u(""),_=Object(l.a)(v,2),y=_[0],E=_[1],S=u(""),N=Object(l.a)(S,2),L=N[0],C=N[1],w=u(""),k=Object(l.a)(w,2),T=k[0],R=k[1],D=u(""),I=Object(l.a)(D,2),U=I[0],F=I[1],G=Object(a.useState)("1"),B=Object(l.a)(G,2),P=B[0],z=B[1],M=function(){var t=Object(g.a)(f.a.mark((function t(n){var a,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),![m,U,d,r,T,P,y,L].every((function(e){return e}))){t.next=21;break}return a={username:m,email:U,password:d,fullname:r,born:T,gender:+P,role:2,phone:y,emergengyContact:L},t.prev=4,t.next=7,fetch("https://registro-salidas-montana-chile.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:return c=t.sent,t.next=10,c.json();case 10:s=t.sent,console.log(s),alert("usuario creado exitosamente"),e.push("/login"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),console.log("error",t.t0);case 19:t.next=22;break;case 21:alert("llene todos los campos");case 22:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)("form",{onSubmit:function(e){return M(e)},className:A.a["form-style"],children:[Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Nombre de usuario"}),Object(b.jsx)("input",{value:m,onChange:x})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Nombre completo"}),Object(b.jsx)("input",{value:r,onChange:c})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Fecha de nacimiento"}),Object(b.jsx)("input",{type:"date",value:T,onChange:R})]}),Object(b.jsxs)("div",{className:A.a["input-group"],children:[Object(b.jsx)("div",{children:Object(b.jsx)("label",{children:"G\xe9nero"})}),Object(b.jsxs)("div",{className:A.a["input-radio"],children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Masculino"}),Object(b.jsx)("input",{type:"radio",value:"1",name:"gender-name",onChange:function(){return z("1")}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Femenino"}),Object(b.jsx)("input",{type:"radio",value:"2",name:"gender-name",onChange:function(){return z("2")}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:"Otr@"}),Object(b.jsx)("input",{type:"radio",value:"3",name:"gender-name",onChange:function(){return z("3")}})]})]})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Numero de contacto"}),Object(b.jsx)("input",{value:y,onChange:E})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Numero de emergencia"}),Object(b.jsx)("input",{value:L,onChange:C})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Correo Electr\xf3nico"}),Object(b.jsx)("input",{type:"email",value:U,onChange:F})]}),Object(b.jsxs)("div",{className:A.a["form-group"],children:[Object(b.jsx)("label",{children:"Password"}),Object(b.jsx)("input",{type:"password",value:d,onChange:j})]}),Object(b.jsx)("div",{className:A.a.center,children:Object(b.jsx)(p,{typeButton:"submit",color:"primary",children:"Enviar"})})]})},G=n(34),B=n.n(G),P=function(e){return Object(b.jsxs)("div",{className:B.a.flex,children:[Object(b.jsx)("h1",{className:B.a["margin-nav"],children:e.title}),Object(b.jsx)(F,{})]})},z=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:e.title})})},M=Object(a.createContext)({coords:[],settingCoords:function(e){}}),W=n(57),J=n(58),V=n(59),Y=n(60),Q=n(38),q=n.n(Q),H=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(M).settingCoords;return Object(W.a)({click:function(e){r(e.latlng),c(e.latlng)},dblclick:function(e){r(null),c({lat:0,long:0})}}),n?Object(b.jsx)(J.a,{position:n}):null},Z=function(){return Object(b.jsxs)(V.a,{className:q.a["leaflet-canvas"],center:[-33.6,-71],zoom:9,scrollWheelZoom:!0,children:[Object(b.jsx)(Y.a,{attribution:"Tiles \xa9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),Object(b.jsx)(H,{})]})},X=n(17),K=n.n(X),$=n(2),ee=n(22),te=n(39),ne=n(40),ae={isLoading:!1,success:!1,failure:!1,data:{}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case v:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case _:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,data:t.payload});case y:return Object($.a)(Object($.a)({},e),{},{data:{},success:!1});default:return e}},ce="GET_USERS_INIT",se="GET_USERS_SUCCESS",oe="GET_USERS_FAILURE",ie="USER_DELETE_INIT",le="USER_DELETE_SUCCESS",ue="USER_DELETE_FAILURE",de={isLoading:!1,success:!1,failure:!1,data:[]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case se:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case oe:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,data:t.payload});case ie:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case le:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case ue:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,data:t.payload});default:return e}},be="GET_DEPARTURE_INIT",pe="GET_DEPARTURE_SUCCCESS",Oe="GET_DEPARTURE_FAILURE",he="DELETE_DEPARTURE_INIT",me="DELETE_DEPARTURE_SUCCCESS",fe="DELETE_DEPARTURE_FAILURE",ge="CREATE_DEPARTURE_INIT",xe="CREATE_DEPARTURE_SUCCESS",ve="CREATE_DEPARTURE_FAILURE",_e="USER_GET_INIT",ye="USER_GET_SUCCESS",Ee="USER_GET_FAILURE",Se={isLoading:!1,success:!1,failure:!1,data:[],user:{},error:{}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case xe:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case ve:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,data:[],error:t.payload});case _e:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case ye:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,user:t.payload});case Ee:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,user:{},error:t.payload});case be:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case pe:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case Oe:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,error:t.payload});case he:return Object($.a)(Object($.a)({},e),{},{isLoading:!0});case me:return Object($.a)(Object($.a)({},e),{},{success:!0,isLoading:!1,data:t.payload});case fe:return Object($.a)(Object($.a)({},e),{},{success:!1,isLoading:!1,failure:!0,data:t.payload});default:return e}},Le=Object(ee.combineReducers)({login:re,admin:je,departure:Ne}),Ce=Object(ee.createStore)(Le,Object(te.composeWithDevTools)(Object(ee.applyMiddleware)(ne.a))),we=function(e){var t=Ce.getState().departure.data;return{type:xe,payload:Object($.a)(Object($.a)({},t),{},{departure:e})}},ke=function(e){var t=Ce.getState().departure.data;return{type:me,payload:Object($.a)(Object($.a)({},t),{},{departure:t.departure.filter((function(t){return t.id!==e}))})}},Te=function(){var e=T((function(e){return e.departure.user.username})),t=u(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=u(""),o=Object(l.a)(s,2),i=o[0],d=o[1],j=u(""),O=Object(l.a)(j,2),h=O[0],m=O[1],x=u(""),v=Object(l.a)(x,2),_=v[0],y=v[1],E=Object(a.useState)({lat:0,lng:0}),S=Object(l.a)(E,2),L=S[0],C=S[1],w=Object(N.b)();return Object(b.jsx)(M.Provider,{value:{coords:L,settingCoords:function(e){var t=e.lat,n=e.lng;C({lat:t,lng:n})}},children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=[r,i,h,_,L.lat,L.lng].every((function(e){return e})),a=new Date(r)<=new Date(i);if(n&&a){var c=localStorage.getItem("accessToken");w(function(e,t,n){return function(){var a=Object(g.a)(f.a.mark((function a(r){var c,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:ge}),a.prev=1,a.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/users/".concat(t,"/departure"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",authorization:"Bearer ".concat(e)},body:JSON.stringify(n)});case 4:return c=a.sent,console.log("estoy creando"),a.next=8,c.json();case 8:s=a.sent,console.log(s),r(we(s)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),console.log("este es el error",a.t0),r((o=a.t0,{type:ve,payload:o}));case 17:case"end":return a.stop()}var o}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}(c,e,{dateDeparture:r,dateReturn:i,observations:h,amountPersons:_,lat:L.lat,long:L.lng}))}else a?alert("llene todos los campos de manera correcta"):alert("Ingrese bien las fechas")},className:K.a["form-style"],children:[Object(b.jsxs)("div",{className:K.a["form-group"],children:[Object(b.jsx)("label",{children:"Fecha ida"}),Object(b.jsx)("input",{type:"date",value:r,onChange:c})]}),Object(b.jsxs)("div",{className:K.a["form-group"],children:[Object(b.jsx)("label",{children:"Fecha Regreso"}),Object(b.jsx)("input",{type:"date",value:i,onChange:d})]}),Object(b.jsxs)("div",{className:K.a["form-group"],children:[Object(b.jsx)("label",{children:"Detalles de la salida"}),Object(b.jsx)("input",{type:"text",value:h,onChange:m})]}),Object(b.jsxs)("div",{className:K.a["form-group"],children:[Object(b.jsx)("label",{children:"Cantidad de personas"}),Object(b.jsx)("input",{type:"number",value:_,onChange:y})]}),Object(b.jsx)("p",{className:K.a.margin,children:"Haga click para elegir el punto de salida y doble click para eliminarlo"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Latitud ",L.lat]}),Object(b.jsxs)("li",{children:["Longitud ",L.lng]})]}),Object(b.jsx)(Z,{}),Object(b.jsx)("div",{className:K.a.center,children:Object(b.jsx)(p,{typeButton:"submit",color:"primary",children:"Enviar"})})]})})},Re=n(23),De=n.n(Re),Ie=function(){var e=Object(N.b)(),t=T((function(e){return e.departure.data.departure})),n=T((function(e){return e.departure.user.username}));Object(a.useEffect)((function(){var t,n=localStorage.getItem("accessToken");e((t=n,function(){var e=Object(g.a)(f.a.mark((function e(n){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:_e}),e.prev=1,e.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/users",{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,c=r.username,n({type:ye,payload:{username:c}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n((s=e.t0,{type:Ee,payload:s}));case 15:case"end":return e.stop()}var s}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]),Object(a.useEffect)((function(){var t=localStorage.getItem("accessToken");e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(a){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:be}),n.prev=1,n.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/users/".concat(t),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",authorization:"Bearer ".concat(e)}});case 4:return r=n.sent,n.next=7,r.json();case 7:c=n.sent,console.log("getdepData",c),a({type:pe,payload:c}),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0),a((s=n.t0,{type:Oe,payload:s}));case 16:case"end":return n.stop()}var s}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}),[n,e]);var r=function(t){var a=localStorage.getItem("accessToken");e(function(e,t,n){return function(){var a=Object(g.a)(f.a.mark((function a(r){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:he}),a.prev=1,a.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/users/".concat(n,"/departure?id=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",authorization:"Bearer ".concat(t)}});case 4:r(ke(e)),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0),r((c=a.t0,{type:fe,payload:c}));case 11:case"end":return a.stop()}var c}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}(+t,a,n))};return Object(b.jsxs)("div",{className:De.a["space-nav"],children:[Object(b.jsx)("h1",{className:De.a.center,children:"Dashboard"}),Object(b.jsx)(Te,{}),Object(b.jsx)("h2",{className:De.a.center,children:"Mis avisos de salida"}),Object(b.jsx)("ul",{className:De.a.container,children:t?t.map((function(e,t){return Object(b.jsxs)("li",{className:De.a["list-departure"],children:[Object(b.jsx)("div",{children:Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["ida: ",e.data_return.slice(0,10)]}),Object(b.jsxs)("li",{children:["regreso: ",e.date_departure.slice(0,10)]}),Object(b.jsxs)("li",{children:["n\xb0 participantes: ",e.mount_participants]}),Object(b.jsxs)("li",{children:["Detalles: ",e.observations]}),Object(b.jsxs)("li",{children:["Coordenadas:",Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["Latitud: ",e.lat]}),Object(b.jsxs)("li",{children:["Longitud: ",e.long]})]})]})]})}),Object(b.jsx)("div",{children:Object(b.jsx)(p,{color:"dark",action:function(){return r(e.id)},children:"Delete"})})]},t)})):Object(b.jsx)("div",{children:"asd"})})]})},Ue=n(24),Ae=n.n(Ue),Fe=n.p+"static/media/lista.04272748.svg",Ge=function(){return{width:window.innerWidth}},Be=function(){var e=Object(a.useState)(Ge()),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){r(Ge())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},Pe=function(e){var t,n=Object(i.g)().pathname,r=Object(i.f)(),c=Object(N.b)(),s=T((function(e){return e.login.success})),u=T((function(e){return e.departure.user.username})),d=Be().width,j=Object(a.useState)(!1),p=Object(l.a)(j,2),O=p[0],h=p[1];return Object(b.jsxs)("nav",{className:Ae.a.nav,children:[Object(b.jsxs)("div",{children:[s?Object(b.jsx)(o.b,{to:"/dashboard",children:"Avisos de Salida"}):Object(b.jsx)(o.b,{to:"/",children:"Avisos de Salida"}),Object(b.jsx)("img",{className:Ae.a.icon,onClick:function(){h(!O),console.log(u)},src:Fe,width:"32",height:"32",alt:"menu"})]}),Object(b.jsx)("div",{className:"".concat(!O&&d<568?Ae.a.none:""),children:s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Bienvenido ",Object(b.jsx)("span",{className:Ae.a["mr-2"],children:"/admin"===n?"admin":null!==(t="".concat(u))&&void 0!==t?t:""})]}),Object(b.jsx)("p",{onClick:function(){localStorage.clear(),c({type:y}),r.replace("/")},className:Ae.a.pointer,children:"Cerrar Sesi\xf3n"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.b,{to:"/login",children:"Ingresar"}),Object(b.jsx)(o.b,{to:"/register",children:"Registrese"})]})})]})},ze=n(16),Me=function(e){var t=e.component,n=Object(ze.a)(e,["component"]);return T((function(e){return e.login.success}))?Object(b.jsx)(i.a,Object($.a)(Object($.a)({},n),{},{render:function(e){return Object(b.jsx)(t,Object($.a)({},e))}})):Object(b.jsx)("div",{children:"Vista restringida, Logu\xe9ese para ingresar"})},We=function(e){return{token:window.localStorage.getItem(e)}},Je=function(e){var t=Object(a.useState)(We(e)),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var e=function(){console.log("soy el hook de storage"),c(We("accessToken"))};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}}),[r]),r},Ve=function(e){var t=Ce.getState().admin.data;return console.log("actions",t,e),{type:le,payload:t.filter((function(t){return t.id!==e}))}},Ye=n(27),Qe=n.n(Ye),qe=function(){var e=Object(N.b)(),t=T((function(e){return e.admin.data}));Object(a.useEffect)((function(){var t,n=localStorage.getItem("accessToken");e((t=n,function(){var e=Object(g.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:ce}),e.prev=1,e.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/admin/dashboard",{method:"get",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,n({type:se,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n((c=e.t0,{type:oe,payload:c}));case 14:case"end":return e.stop()}var c}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);var n=function(t){var n=localStorage.getItem("accessToken");e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:ie}),n.prev=1,n.next=4,fetch("https://registro-salidas-montana-chile.herokuapp.com/admin/users?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(t)}});case 4:a(Ve(e)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0),a((r=n.t0,{type:ue,payload:r}));case 11:case"end":return n.stop()}var r}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))};return t&&Object(b.jsxs)("div",{className:Qe.a["space-nav"],children:[Object(b.jsx)("h1",{className:Qe.a.center,children:"Admin"}),Object(b.jsx)("h2",{className:Qe.a.center,children:"Lista de usuarios"}),Object(b.jsx)("ul",{className:Qe.a["list-center"],children:t.map((function(e,t){return"admin"===e.username?"":Object(b.jsxs)("li",{children:[e.id," - ",e.username," ",Object(b.jsx)(p,{action:function(){return n(parseInt(e.id))},color:"dark",children:"Borrar"})," "]},t)}))})]})};var He=function(){var e=Je("accessToken");return Object(a.useEffect)((function(){e&&console.log(e)}),[e]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(Pe,{}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/",exact:!0,children:Object(b.jsx)(I,{title:"Avisos de salida a la Monta\xf1a",subtitle:"Registra tu salida y estaremos atentos a tu retorno"})}),Object(b.jsx)(i.a,{path:"/login",children:Object(b.jsx)(k,{title:"Login"})}),Object(b.jsx)(i.a,{path:"/register",children:Object(b.jsx)(P,{title:"Registro"})}),Object(b.jsx)(Me,{path:"/dashboard",component:Ie}),Object(b.jsx)(Me,{path:"/admin",component:qe}),Object(b.jsx)(i.a,{path:"*",children:Object(b.jsx)(z,{title:"not-found"})})]})]})})};n(53);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(N.a,{store:Ce,children:Object(b.jsx)(He,{})})}),document.getElementById("root"))}],[[54,1,2]]]);
//# sourceMappingURL=main.b7d73b83.chunk.js.map